I have the research findings for 2 carriers: Molina, Ambetter.

Task 1: Update config.json Create a JSON object for these carriers that fits this exact schema. Do not deviate from this structure:

JSON

"[CARRIER_NAME]": {
  "id": "unique_id",
  "default_status": "yellow",
  "member_id_validation": {
    "regex": "^[A-Z]{3}\\d{9}$", // Example regex from research
    "min_length": 8,
    "max_length": 15,
    "help_text": "Must start with 3 letters..."
  },
  "rules": [
    {
      "if": {
        "planSource": "marketplace", // OPTIONAL: Only checks if planSource matches
        "bmi_min": 35, // OPTIONAL: Only checks if BMI is below this
        "has_med_history": false, // OPTIONAL
        "missing_comorbidities": ["diabetes"] // OPTIONAL
      },
      "then": {
        "status": "red",
        "reason": "Marketplace plans exclude GLP-1s in 2026."
      }
    }
    // Add more rules based on the research findings
  ],
  "pricing": {
    "green_copay": 25,
    "lifestyle_program_discount": true // true if research said program enrollment lowers price
  }
}
Task 2: Update logic.js Write a JavaScript snippet to handle the specific logic quirks found in these research outputs (e.g., if one carrier has a weird rule about "Lifestyle Programs").

Here are the Research Outputs: 

### **Coverage Verification Engine: Molina Healthcare (2026 Audit)**

**Executive Summary:**
For 2026, Molina Healthcare maintains a strict "Medical Necessity" model for GLP-1 agonists. Coverage is **not automatic** (Green) for any plan type without Prior Authorization (PA). Most users will start at **Yellow** (Requires PA & Step Therapy) or **Red** (Plan Exclusion). A major pricing shift for 2026 is the widespread use of **Co-insurance (40-50%)** instead of flat copays for Marketplace plans, significantly increasing user cost.

---

### **1. Coverage Logic (If/Else Rules)**

**Global Exclusion Rule:**

* **IF** Medication = "Compounded Semaglutide" OR "Compounded Tirzepatide" **THEN** Status = **Red**.
* *Reason:* "Insurance companies do not provide coverage for compounded medications... these are not FDA-approved products." (Standard Molina Non-Covered Policy).



**Plan Source Logic:**

* **IF** Plan Source = "Medicaid" **THEN** Status = **Red** (Default).
* *Exception:* **IF** State = "CA", "MI", "VA", "WA" (States with specific opt-in legislation) **AND** Diagnosis = "Type 2 Diabetes" **THEN** Status = **Yellow**.
* *Reason:* "Drugs used for weight loss are generally not a Medicaid covered benefit... coverage is limited to FDA-approved indications [Diabetes] unless state law specifies otherwise."


* **IF** Plan Source = "Marketplace (ACA)" **THEN** Status = **Yellow** (Requires PA).
* **IF** Plan Source = "Medicare" **THEN** Status = **Red** (Statutory Exclusion for Weight Loss).
* *Exception:* **IF** Diagnosis = "Type 2 Diabetes" OR "Established CVD" (Wegovy only) **THEN** Status = **Yellow**.



**Clinical Gating (The "Yellow" to "Green" Check):**

* **IF** BMI < 30 **AND** Comorbidities = [Null/None] **THEN** Status = **Red**.
* **IF** BMI ≥ 27 **AND** Comorbidities INCLUDES ["Hypertension", "Type 2 Diabetes", "High Cholesterol", "OSA", "Coronary Heart Disease"] **THEN** Status = **Yellow** (Meets Medical Necessity criteria).
* **IF** BMI ≥ 30 **THEN** Status = **Yellow** (Meets Medical Necessity criteria).

**Step Therapy (The "Fail First" Rule):**

* **IF** Status = **Yellow** **AND** Medication History DOES NOT INCLUDE ["Phentermine", "Qsymia", "Contrave", "Orlistat", "Benzphetamine"] **THEN** Status = **Yellow (Action Required)**.
* *Instruction:* User must try and fail **one** of these agents for **3-6 months** before GLP-1 approval.
* *Reason:* "Member must have tried and failed one of the non-GLP1 weight-loss medications 6 months prior to request... Documentation must include reason for failure or intolerance." (Molina Clinical Policy 2026).



---

### **2. Pricing Variables**

**2026 Cost-Sharing Model:**

* **Standard Copay:** **Undefined/High Variance**.
* *2026 Change:* Molina Marketplace plans (e.g., FL, TX, CA) have shifted Specialty Drugs (Tier 5/6) to **Coinsurance** rather than flat copays.
* **Rate:** Users typically pay **40% - 50%** of the drug cost after deductible.
* *Estimated Cost:* ~$400 - $550/month (based on ~$1,100 list price).



**Accumulator Warning:**

* **Coupon Logic:** **BANNED**.
* *Rule:* "Cost Sharing paid with drug company support [coupons] will not apply toward any Deductible or yearly Out‐of‐Pocket Maximum."
* *Impact:* Users cannot use the manufacturer savings card to "pay down" their deductible. They must pay the full deductible (often $3,000+) out of pocket first.



**Lifestyle Program Impact:**

* **Price Reduction:** **No**. Enrollment in a program (e.g., nutritional counseling) is a *clinical requirement* for approval, not a mechanism to lower the copay.

---

### **3. Member ID Logic**

Use these rules to validate the user's input before processing:

* **Valid Length:** **9 to 12 digits**.
* **Required Pattern:** Purely **Numeric**.
* *Format:* `^\d{9,12}$`
* *Note:* Some older cards may have a mix, but 2026 system IDs are predominantly numeric. If a user enters a letter, flag as potential error (unless it is a state-specific Medicaid ID like in WA/CA which might have alphanumeric strings, e.g., "1234567890" or "X12345678").
* *Safe Regex:* `^[A-Z0-9]{9,12}$` (Allows for State Medicaid variations).



---

### **4. 2026 Specific Warnings**

* **Re-Verification Required:** All existing PAs for weight loss drugs often expire on **December 31st**. Users active in 2025 must actively "Renew" their PA in Jan 2026 with proof of **5% weight loss** to maintain coverage.
* **Zepbound Status:** While Zepbound is now on the formulary for 2026, it is often placed on a **Non-Preferred** tier compared to Wegovy, meaning higher out-of-pocket costs or stricter step therapy (must fail Wegovy first in some states).
* **Medicaid "Off-Label" Crackdown:** Molina has issued provider bulletins explicitly warning against prescribing Ozempic/Mounjaro for weight loss without a T2D diagnosis, stating claims will be strictly audited and denied.

### **Audit Report: Ambetter Coverage Logic (2026)**

**Executive Summary:**
For the 2026 plan year, Ambetter (Centene) maintains a restrictive stance on GLP-1 agonists. **Weight loss (anti-obesity) is generally an excluded benefit** on most Marketplace (ACA) plans unless state-mandated (e.g., CA, MA).

* **Diabetes:** Coverage is available (Yellow/Green) but strictly gated by Step Therapy (Metformin).
* **Weight Loss:** Predominantly **Red Light**. Where covered, it requires strict "Lifestyle Program" enrollment (6 months) and PA.
* **Zepbound Specific:** 2026 policies explicitly open a pathway for **Obstructive Sleep Apnea (OSA)**, distinguishing it from pure weight loss.

---

### **1. Coverage Logic (If/Else Rules)**

#### **Scenario A: Weight Loss (Wegovy, Zepbound, Saxenda, Qsymia, Contrave)**

*Note: Ambetter Marketplace plans typically exclude these by default. Logic below applies IF the specific state plan includes "Anti-Obesity" coverage.*

* **IF** Plan Source = "Marketplace (ACA)" **AND** State NOT IN ["CA", "MA", "MD"] **THEN** Status = **Red**.
* *Reason:* "Use of Wegovy for the treatment of weight management is a benefit exclusion and will not be authorized." (CP.PMN.295).


* **IF** Medication = "Compounded Semaglutide/Tirzepatide" **THEN** Status = **Red**.
* *Reason:* "Requests for indications not approved by the FDA... are reviewed with off-label policy." Ambetter strictly denies non-FDA approved formulations.


* **IF** Medication = "Wegovy" **AND** (BMI < 30 **AND** (BMI < 27 OR Comorbidity = "None")) **THEN** Status = **Red**.
* *Reason:* FDA label strict adherence.


* **IF** Medication = "Wegovy" **AND** History DOES NOT INCLUDE "Physician-Directed Weight Loss Program (6 months)" **THEN** Status = **Yellow** (Requires Enrollment).
* *Reason:* "Documentation supports member’s participation in a physician-directed weight loss program for at least 6 months." (CP.PMN.295).


* **IF** Medication = "Zepbound" **AND** Comorbidity = "OSA (Sleep Apnea)" **AND** AHI ≥ 15 **THEN** Status = **Yellow** (Medical Necessity Review).
* *Reason:* "Diagnosis of moderate to severe OSA confirmed by polysomnography... with AHI ≥ 15." (CP.PMN.298 - 2026 Update).



#### **Scenario B: Type 2 Diabetes (Ozempic, Mounjaro, Trulicity, Victoza)**

* **IF** Diagnosis = "Type 2 Diabetes" **AND** History INCLUDES "Metformin (3 months)" **THEN** Status = **Green**.
* *Reason:* "Failure of ≥ 3 consecutive months of metformin as evidenced by HbA1c... unless contraindicated." (HIM.PA.53).


* **IF** Diagnosis = "Type 2 Diabetes" **AND** History DOES NOT INCLUDE "Metformin" **THEN** Status = **Yellow** (Step Therapy Required).
* *Reason:* Automatic denial at pharmacy without Metformin claim history.


* **IF** Medication = "Mounjaro" **AND** History DOES NOT INCLUDE ["Ozempic", "Trulicity", "Victoza"] **THEN** Status = **Yellow** (Tier Step).
* *Reason:* Some 2026 formularies require failing a preferred GLP-1 (Trulicity/Ozempic) before approving Mounjaro.


* **IF** Diagnosis != "Type 2 Diabetes" (e.g., Prediabetes, Insulin Resistance) **AND** Medication IN ["Ozempic", "Mounjaro"] **THEN** Status = **Red**.
* *Reason:* "Coverage excluded for weight loss. Diagnosis of T2D required." (Strict off-label denial).



---

### **2. Pricing Variables**

* **Standard Copay (Green/Yellow Approved):**
* **Tier 3 (Preferred Brand):** **$30 - $150 copay** (varies by state/plan level).
* **Tier 4 (Non-Preferred/Specialty):** **40% - 50% Coinsurance** (Member pays half the cost).
* *Note:* The user's "Green = $25" target is **unlikely** to be met without a manufacturer savings card. Ambetter typically places GLP-1s in Tier 3 or 4.


* **Lifestyle Program Impact:**
* **Does it change price?** **No.** Enrollment is a *clinical gate* (Pass/Fail) to get coverage, not a discount mechanism.


* **Savings Card Warning (Accumulator):**
* Ambetter frequently uses **Copay Accumulator Adjusters**. If a user uses a $25 manufacturer card, that value may **not** count toward their deductible/out-of-pocket max.



---

### **3. Member ID Logic**

* **Valid Length:** 9 to 13 characters.
* **Required Pattern:**
* **Format A (Standard):** Starts with `U` followed by 8-11 digits.
* **Format B (Legacy/State):** 9 or 10 digits (Pure Numeric).


* **Regex:** `^(U\d{8,11}|\d{9,10})$`

---

### **4. 2026 Specific Warnings**

1. **The "6-Month" Lookback Rule:** For Wegovy coverage (where applicable), Ambetter requires **proof** of 6 months of active participation in a weight loss program (e.g., WW, Noom, Medical Gym) *before* they will even review the Prior Authorization. "New" patients are automatically rejected (Red Light) until this clock finishes.
2. **OSA Loophole for Zepbound:** 2026 clinical policies have added specific criteria for **Sleep Apnea** (Zepbound only). A user with "High Cholesterol" alone is Red, but a user with "OSA + High Cholesterol" moves to Yellow/Green logic if they have a sleep study confirming AHI > 15.
3. **Excluded Benefit by Default:** For roughly 80% of Ambetter ACA plans, the "Anti-Obesity" drug category is fully excluded. The logic engine should default to **Red** for Marketplace plans unless a state override is detected.

---
