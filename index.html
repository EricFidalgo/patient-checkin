<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coverage Clarity Engine | VeriScript</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="c-header">
      <div class="l-container c-header__inner">
        <div class="c-brand">
          <span class="material-symbols-outlined c-brand__icon">verified_user</span>
          <span>VeriScript <span class="c-brand__accent">GLP-1 Intelligence</span></span>
        </div>
        <div class="c-meta">
          <span>
            <span class="material-symbols-outlined c-meta__icon">lock</span>
            HIPAA Compliant
          </span>
          <span>
            <span class="material-symbols-outlined c-meta__icon">event</span>
            <span class="current-year">2025</span> Rules
          </span>
        </div>
      </div>
    </header>

    <main class="l-main">
        <div id="form-header" class="t-center u-mb-xl">
            <h1 class="t-h1">Coverage Clarity Engine</h1>
            <p class="t-body">Determine your GLP-1 insurance eligibility and <span class="current-year">2025</span> copay probability in 60 seconds.</p>
        </div>

      <div class="c-card" id="form-container">
        <div class="c-progress-track">
          <div id="progress" class="c-progress-fill" style="width: 33%" data-js="progress-bar"></div>
        </div>

        <form id="clarity-form" class="c-card__body">
          
          <div id="step-1" data-js="step">
  <div class="c-step-header u-mb-lg">
    <span class="c-step-header__circle">1</span>
    <h2 class="c-step-header__title">Clinical Profile</h2>
  </div>

  <div class="l-grid-2">
    <div class="c-form-group">
      <label class="c-label">Age <span class="u-text-error">*</span></label>
      <input type="number" id="age" class="c-input" placeholder="e.g. 45" inputmode="numeric" required min="18"/>
      <div class="c-error-msg u-hidden" id="age-error">
        <span class="material-symbols-outlined c-error-icon">error</span> Required
      </div>
    </div>

    <div class="c-form-group">
      <label class="c-label">Current BMI <span class="u-text-error">*</span></label>
      <input type="number" id="bmi" step="0.1" class="c-input" placeholder="e.g. 31.5" inputmode="decimal" required />
      <div class="c-error-msg u-hidden" id="bmi-error">
        <span class="material-symbols-outlined c-error-icon">error</span> Required
      </div>
    </div>

    <div class="c-form-group l-col-span-full">
      <label class="c-label">Do you have any diagnosed health conditions? <span class="u-text-error">*</span></label>
      
      <div class="l-grid-2 u-mb-md">
        <label class="c-check-card u-justify-center">
          <input type="radio" name="gate_conditions" value="no" onchange="toggleGrid('conditions', false)">
          <span>None of these apply to me</span>
        </label>
        <label class="c-check-card u-justify-center">
          <input type="radio" name="gate_conditions" value="yes" onchange="toggleGrid('conditions', true)">
          <span>Yes, I have conditions</span>
        </label>
      </div>

      <div class="c-error-msg u-hidden u-mb-sm" id="comorbidity-error">
          <span class="material-symbols-outlined c-error-icon">error</span>
          Please select "No" or choose your conditions.
      </div>

      <div id="wrapper-conditions" class="u-hidden">
          <div class="c-check-grid l-grid-2" id="comorbidity-grid"></div>
      </div>
    </div>

    <div class="c-form-group l-col-span-full">
      <label class="c-label">Have you taken weight loss medication before? <span class="u-text-error">*</span></label>
      
      <div class="l-grid-2 u-mb-md">
        <label class="c-check-card u-justify-center">
          <input type="radio" name="gate_meds" value="no" onchange="toggleGrid('meds', false)">
          <span>No previous medication history</span>
        </label>
        <label class="c-check-card u-justify-center">
          <input type="radio" name="gate_meds" value="yes" onchange="toggleGrid('meds', true)">
          <span>Yes, I have history</span>
        </label>
      </div>

      <div class="c-error-msg u-hidden u-mb-sm" id="med-history-error">
          <span class="material-symbols-outlined c-error-icon">error</span>
          Please select "No" or choose your history.
      </div>

      <div id="wrapper-meds" class="u-hidden">
          <div id="med-history-grid" class="c-check-grid l-grid-2"></div>
      </div>
    </div>
  </div>

  <button type="button" class="c-btn c-btn--primary u-mt-lg" onclick="nextStep(2)">
    Continue
    <span class="material-symbols-outlined">arrow_forward</span>
  </button>
</div>

          <div id="step-2" class="u-hidden" data-js="step">
            <div class="c-step-header u-mb-lg">
                <span class="c-step-header__circle">2</span>
                <h2 class="c-step-header__title">Treatment & Location</h2>
            </div>

            <div class="c-form-group">
                <label class="c-label">Target Medication <span class="u-text-error">*</span></label>
                <div class="c-select-wrap">
                <select id="medication" class="c-select" required>
                    <option value="" disabled selected>Select prescribed medication...</option>
                    </select>
                </div>
                <div class="c-error-msg u-hidden" id="medication-error">
                <span class="material-symbols-outlined c-error-icon">error</span>
                Selection required
                </div>
            </div>

            <div class="c-form-group">
              <label class="c-label">Zip Code <span class="u-text-error">*</span></label>
              <div class="c-input-icon-wrap">
                  <input 
                      type="text" 
                      id="zip-code" 
                      class="c-input" 
                      placeholder="e.g. 10001" 
                      pattern="[0-9]*" 
                      maxlength="5" 
                      inputmode="numeric"
                  />
                  <span id="state-badge" class="c-badge u-hidden" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); background: #e0f2fe; color: #0284c7; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">
                      --
                  </span>
              </div>
              
              <input type="hidden" id="state" value="" />
              
              <div class="c-error-msg u-hidden" id="zip-error">
                  <span class="material-symbols-outlined c-error-icon">error</span>
                  <span id="zip-error-text">Valid 5-digit Zip Code required</span>
              </div>
          </div>

            <div class="u-flex-gap u-mt-lg">
                <button type="button" class="c-btn c-btn--secondary" onclick="nextStep(1)">Back</button>
                <button type="button" class="c-btn c-btn--primary" onclick="nextStep(3)">
                    Next Step
                    <span class="material-symbols-outlined">arrow_forward</span>
                </button>
            </div>
          </div>

          <div id="step-3" class="u-hidden" data-js="step">
                <div class="c-step-header u-mb-lg">
                    <span class="c-step-header__circle">3</span>
                    <h2 class="c-step-header__title">Insurance Coverage</h2>
                </div>
                <div class="l-grid-2">
                <div class="c-form-group l-col-span-full">
                    <label class="c-label">Insurance Source <span class="u-text-error">*</span></label>
                    <div class="c-select-wrap">
                    <select id="plan-source" class="c-select" onchange="toggleEmployerField()">
                        <option value="" disabled selected>Select source...</option>
                        </select>
                    </div>
                    <div class="c-error-msg u-hidden" id="source-error">
                    <span class="material-symbols-outlined c-error-icon">error</span>
                    Selection required
                    </div>
                </div>

                <div class="c-form-group l-col-span-full u-hidden" id="employer-field">
                    <label class="c-label">Employer Name <span class="u-text-error">*</span></label>
                    <input type="text" id="employer-name" class="c-input" placeholder="e.g. Amazon, State of FL..." />
                    
                    <div class="c-error-msg u-hidden" id="employer-error">
                        <span class="material-symbols-outlined c-error-icon">error</span>
                        Employer name is required
                    </div>
                </div>

                <div class="c-form-group l-col-span-full"> 
                    <label class="c-label">Primary Carrier <span class="u-text-error">*</span></label>
                    <div class="c-select-wrap">
                        <select id="carrier" class="c-select" onchange="toggleCarrierField()">
                            <option value="" disabled selected>Select provider...</option>
                        </select>
                    </div>
                    <div class="c-error-msg u-hidden" id="carrier-error">
                        <span class="material-symbols-outlined c-error-icon">error</span>
                        Selection required
                    </div>
                </div>

                <div class="c-form-group l-col-span-full u-hidden" id="other-carrier-field">
                    <label class="c-label">Please Specify Carrier Name</label>
                    <input type="text" id="other-carrier-name" class="c-input" placeholder="e.g. Oscar, Ambetter, Meritain..." />
                </div>

                <div class="c-form-group l-col-span-full">
                    <label class="c-label">Program Enrollment</label>
                    <label class="c-check-card">
                        <input type="checkbox" id="lifestyle-program" />
                        <span>I am currently enrolled in a required lifestyle program (e.g., Kaiser MWM, Flyte, or VA MOVE!).</span>
                    </label>
                </div>
            </div>




            <div class="c-highlight-box u-mt-lg">
                <label class="c-label">Member ID / Policy Number <span class="c-label__sub">(Optional)</span></label>
                
                <div class="c-input-icon-wrap">
                  <input 
                    type="text" 
                    id="member-id" 
                    class="c-input c-input--icon-left c-input--card-type" 
                    placeholder="W123456789" 
                    maxlength="25"
                    />
                    </div>
                
                <p class="c-helper">
                    <span class="material-symbols-outlined c-helper__icon">info</span> <span id="member-id-helper-text">
                        Providing your Member ID allows our partner pharmacies to manually verify your 
                        <span class="current-year">2025</span> benefits.
                    </span>
                </p>
              </div>
            
            <div class="u-flex-gap u-mt-lg">
              <button type="button" class="c-btn c-btn--secondary" onclick="nextStep(2)">Back</button>
              <button type="submit" class="c-btn c-btn--primary">
                Check Coverage
                <span class="material-symbols-outlined">analytics</span>
              </button>
            </div>
          </div> </div>   </form>
    </div>

    <div id="loading-state" class="u-hidden">
        <div class="c-loading-box">
            <div class="c-spinner u-mb-lg"></div>
            <h3 id="loading-text" class="t-h2 u-mb-md">
            Accessing <span class="current-year">2025</span> Payer Formularies...
            </h3>
            <div class="c-progress-track c-progress-track--pill">
            <div id="loading-bar" class="c-progress-fill" style="width: 0%"></div>
            </div>
            <p class="t-xs u-text-muted u-mt-lg">
            Verifying clinical criteria against latest FDA guidelines...
            </p>
        </div>
    </div>

      <div id="safety-stop-modal" class="c-modal-overlay u-hidden">
        <div class="c-modal">
          <div class="c-result__icon c-result__icon--neutral">
            <span class="material-symbols-outlined">block</span>
          </div>
          <h2 class="t-h2">Clinical Criteria Not Met</h2>
          <p class="t-body t-sm u-mb-lg">
            GLP-1 medications typically require a BMI ≥ 27. Your profile indicates you may not qualify for insurance coverage.
          </p>
          <a href="#" class="c-btn c-btn--primary">View Lifestyle Programs</a>
        </div>
      </div>

      <div id="email-gate" class="c-modal-overlay u-hidden">
        <div class="c-modal">
          <div class="c-result__icon" style="background: var(--color-primary-bg); color: var(--color-primary);">
            <span class="material-symbols-outlined">lock</span>
          </div>
          <h2 class="t-h2">Analysis Complete</h2>
          <p class="t-body t-sm">Enter your email to unlock your full fee report.</p>

          <form id="email-form" class="u-mt-lg">
            <div class="c-form-group u-mb-md">
              <label class="c-label">Contact Information <span class="u-text-muted">(At least one required)</span></label>
              <div class="l-grid-2" style="gap: 10px;">
                <input type="email" id="user-email" placeholder="Email Address" class="c-input" />
                <input type="tel" id="user-phone" placeholder="Phone Number" class="c-input" />
              </div>
              <div id="contact-error" class="c-error-msg u-mt-sm u-hidden">
                <span class="material-symbols-outlined c-error-icon">error</span>
                Please provide an email or phone number to receive your report.
              </div>
            </div>

            <div class="c-legal-scroll u-mb-md" style="height: 120px; overflow-y: scroll; border: 1px solid #e2e8f0; padding: 12px; font-size: 0.75rem; background: #f8fafc; color: #334155; border-radius: 6px;">
              <strong>AUTHORIZATION FOR SALE OF PHI & TCPA CONSENT</strong><br>
              <p class="u-mb-sm">I hereby authorize VeriScript ("Discloser") to disclose and <strong>sell</strong> my protected health information (PHI), including my name, contact details, and clinical profile, to third-party pharmacy networks for the purpose of marketing pharmacy services.</p>
              
              <strong>Terms of Signature:</strong><br>
              <ul style="padding-left: 1rem; margin: 0;">
                <li><strong>Remuneration:</strong> VeriScript will receive financial payment for this data.</li>
                <li><strong>TCPA Consent:</strong> By providing my phone number, I provide express written consent to receive marketing calls/SMS from VeriScript and its partners, even if I am on a Do Not Call list.</li>
                <li><strong>Expiration:</strong> This authorization is valid for 1 year from today.</li>
                <li><strong>Electronic Signature:</strong> By typing my name below, I am electronically signing this authorization.</li>
              </ul>
            </div>

            <div class="c-highlight-box u-mb-lg" style="background: #f0fdf4; border-color: #86efac;">
              <label class="c-label t-sm u-mb-sm">To verify and sign, type your full legal name:</label>
              <div class="l-grid-2" style="gap: 10px;">
                <input 
                    type="text" 
                    id="sign-first-name" 
                    required 
                    placeholder="First Name" 
                    class="c-input" 
                    onkeydown="return /[a-z, ,-]/i.test(event.key)" 
                />
                <input 
                    type="text" 
                    id="sign-last-name" 
                    required 
                    placeholder="Last Name" 
                    class="c-input" 
                    onkeydown="return /[a-z, ,-]/i.test(event.key)" 
                />
              </div>
            </div>

            <button type="submit" class="c-btn c-btn--primary">
              Sign & Unlock Report
              <span class="material-symbols-outlined">draw</span>
            </button>
          </form>
                  </div>
      </div>

      <div id="results-container" class="u-hidden u-mt-lg"> 
        <div id="result-green" class="c-result c-result--success u-hidden">
          <div class="c-result__icon"><span class="material-symbols-outlined">check_circle</span></div>
          <h2 class="t-h2">Match Found!</h2>
          
          <p class="t-sm t-italic u-text-muted u-mt-md js-reason-text"></p>
          
          <div class="c-price-box">
            <div class="c-price-box__label u-text-primary-dark">With Savings Card</div>
            <div class="c-price-box__amount u-text-primary">$25.00<span class="t-sm u-text-muted">/mo</span></div>
          </div>
          <p class="t-body">Your carrier indicates favorable coverage.</p>
          <a href="#" class="c-btn c-btn--success u-mt-lg">Finalize Intake</a>
        </div>

        <div id="result-yellow" class="c-result c-result--warning u-hidden">
            <div class="c-result__icon"><span class="material-symbols-outlined">assignment_late</span></div>
            <h2 class="t-h2">Verification Pending</h2>
            
            <div class="c-reason-box js-reason-text"></div>
            
            <p class="t-body t-semi u-text-warning u-mt-md">Manual Review Required</p>
            <p class="t-body t-sm">Your plan requires Prior Authorization. We can handle this.</p>
            <a href="#" class="c-btn c-btn--primary u-mt-lg">Request Review</a>
        </div>

        <div id="result-red" class="c-result c-result--error u-hidden">
            <div class="c-result__icon"><span class="material-symbols-outlined">policy</span></div>
            <h2 class="t-h2">Coverage Unlikely</h2>
            
            <div class="c-reason-box js-reason-text"></div>
            
            <div class="c-price-box">
                <div class="c-price-box__label u-text-body">Alternative Option</div>
                <div class="c-price-box__amount c-price-box__amount--sm">$199/mo</div>
            </div>
            <a href="#" class="c-btn c-btn--primary u-mt-lg">View Cash Options</a>
        </div>
      </div>
    </main>

<footer class="c-footer">
  <div class="l-container">
    <div class="c-footer__grid">
      <div class="c-footer__col">
        <div class="c-brand u-mb-md" style="color: white;">
          <span class="material-symbols-outlined c-brand__icon">verified_user</span>
          <span>VeriScript</span>
        </div>
        <p class="c-footer-text">
          VeriScript is a Health Technology Platform simplifying GLP-1 access by providing real-time coverage transparency and connecting patients with a specialized pharmacy network for automated PA processing.
        </p>
      </div>

      <div class="c-footer__col">
        <h4 class="c-footer-title">Compliance</h4>
        <ul class="c-footer-list">
          <li><a href="#">HIPAA Privacy Policy</a></li>
          <li><a href="#">SOC2 Framework Aligned</a></li>
          <li><a href="#">Network Pharmacy Verification</a></li>
          <li><a href="#">Price Transparency Commitment</a></li>
        </ul>
      </div>

      <div class="c-footer__col">
        <h4 class="c-footer-title">Support</h4>
        <ul class="c-footer-list">
          <li>Digital Support: support@veriscript.com</li>
          <li>Network Availability: Mon-Fri 8am - 8pm EST</li>
        </ul>
      </div>
    </div>

    <div class="c-footer__bottom">
      © <span class="current-year">2025</span> VeriScript GLP-1 Intelligence. All Rights Reserved.
    </div>
  </div>
</footer>

    <script type="module" src="scripts/main.js"></script>
  </body>
</html>